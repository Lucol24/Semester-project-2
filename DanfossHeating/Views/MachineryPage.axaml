<UserControl
    x:Class="DanfossHeating.Views.MachineryPage"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="using:DanfossHeating.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:DanfossHeating.ViewModels"
    xmlns:views="using:DanfossHeating.Views"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:DataType="vm:MachineryViewModel"
    x:Name="MachineryPageControl"
    mc:Ignorable="d">

    <UserControl.Resources>
        <converters:BoolToColorConverter
            x:Key="BoolToColorConverter"
            FalseValue="Black"
            TrueValue="White" />
    </UserControl.Resources>

    <!-- Background based on theme (light/dark) -->
    <UserControl.Background>
        <SolidColorBrush Color="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#1E1E1E:#F0F0F0'}" />
    </UserControl.Background>

    <Grid>
        <!-- Header Panel with Accent Background -->
        <Border
            Height="70"
            VerticalAlignment="Top"
            Background="#D40000"
            BoxShadow="0 2 10 0 #40000000"
            ZIndex="10">
            <Grid>
                <!-- User Profile (Left) -->
                <StackPanel
                    Margin="20,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <!-- Profile Circle -->
                    <Border
                        Width="50"
                        Height="50"
                        Background="#D40000"
                        BorderBrush="#FFFFFF"
                        BorderThickness="2"
                        BoxShadow="0 2 8 0 #40000000"
                        CornerRadius="25">
                        <TextBlock
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            FontSize="24"
                            FontWeight="Bold"
                            Foreground="White"
                            Text="{Binding UserInitial}" />
                    </Border>

                    <!-- User Name -->
                    <TextBlock
                        Margin="10,0,0,0"
                        VerticalAlignment="Center"
                        FontSize="20"
                        FontWeight="SemiBold"
                        Foreground="White"
                        Text="{Binding UserName}" />
                </StackPanel>

                <!-- Theme Toggle (Right) -->
                <Button
                    Width="50"
                    Height="50"
                    Margin="0,0,20,0"
                    Padding="6"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Background="#20FFFFFF"
                    BorderBrush="#40FFFFFF"
                    BorderThickness="1"
                    Command="{Binding ToggleThemeCommand}"
                    CornerRadius="25">
                    <Panel>
                        <!-- Light Theme Icon (Sun) - shown when in dark mode -->
                        <PathIcon
                            Width="30"
                            Height="30"
                            Data="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41.39.39 1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41.39.39 1.03.39 1.41 0l1.06-1.06z"
                            Foreground="#FFFF00"
                            IsVisible="{Binding IsDarkTheme}" />

                        <!-- Dark Theme Icon (Moon) - shown when in light mode -->
                        <PathIcon
                            Width="30"
                            Height="30"
                            Data="M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"
                            Foreground="#004080"
                            IsVisible="{Binding !IsDarkTheme}" />
                    </Panel>
                </Button>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <Grid Margin="0,70,0,0">
            <!-- Navigation Menu -->
            <Border
                Width="240"
                HorizontalAlignment="Left"
                VerticalAlignment="Stretch"
                Background="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#252525:#F8F8F8'}"
                BorderBrush="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#40FFFFFF:#20000000'}"
                BorderThickness="0,0,1,0">
                <StackPanel Margin="0,15,0,0" Spacing="2">
                    <!-- Home -->
                    <Button
                        Height="54"
                        Margin="8,3"
                        Padding="15,5"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Left"
                        Background="Transparent"
                        BorderThickness="0"
                        Command="{Binding NavigateToHomeCommand}"
                        CornerRadius="8">
                        <StackPanel Orientation="Horizontal">
                            <PathIcon
                                Width="22"
                                Height="22"
                                Data="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"
                                Foreground="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#E0E0E0:#333333'}" />
                            <TextBlock
                                Margin="15,0,0,0"
                                VerticalAlignment="Center"
                                FontSize="16"
                                FontWeight="Normal"
                                Foreground="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#E0E0E0:#333333'}"
                                Text="Home" />
                        </StackPanel>
                    </Button>

                    <!-- Optimizer -->
                    <Button
                        Height="54"
                        Margin="8,3"
                        Padding="15,5"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Left"
                        Background="Transparent"
                        BorderThickness="0"
                        Command="{Binding NavigateToOptimizerCommand}"
                        CornerRadius="8">
                        <StackPanel Orientation="Horizontal">
                            <PathIcon
                                Width="22"
                                Height="22"
                                Data="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"
                                Foreground="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#E0E0E0:#333333'}" />
                            <TextBlock
                                Margin="15,0,0,0"
                                VerticalAlignment="Center"
                                FontSize="16"
                                FontWeight="Normal"
                                Foreground="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#E0E0E0:#333333'}"
                                Text="Optimizer" />
                        </StackPanel>
                    </Button>

                    <!-- Machinery -->
                    <Button
                        Height="54"
                        Margin="8,3"
                        Padding="15,5"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Left"
                        Background="#D40000"
                        BorderThickness="0"
                        CornerRadius="8">
                        <Button.Effect>
                            <DropShadowEffect
                                BlurRadius="10"
                                OffsetX="0"
                                OffsetY="2"
                                Color="#40D40000" />
                        </Button.Effect>
                        <StackPanel Orientation="Horizontal">
                            <PathIcon
                                Width="22"
                                Height="22"
                                Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"
                                Foreground="White" />
                            <TextBlock
                                Margin="15,0,0,0"
                                VerticalAlignment="Center"
                                FontSize="16"
                                FontWeight="SemiBold"
                                Foreground="White"
                                Text="Machinery" />
                        </StackPanel>
                    </Button>

                    <!-- About Us -->
                    <Button
                        Height="54"
                        Margin="8,3"
                        Padding="15,5"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Left"
                        Background="Transparent"
                        BorderThickness="0"
                        Command="{Binding NavigateToAboutUsCommand}"
                        CornerRadius="8">
                        <StackPanel Orientation="Horizontal">
                            <PathIcon
                                Width="22"
                                Height="22"
                                Data="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"
                                Foreground="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#E0E0E0:#333333'}" />
                            <TextBlock
                                Margin="15,0,0,0"
                                VerticalAlignment="Center"
                                FontSize="16"
                                FontWeight="Normal"
                                Foreground="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#E0E0E0:#333333'}"
                                Text="About Us" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Border>

            <!-- Content Area -->
            <Border
                Margin="260,20,20,20"
                Padding="20"
                Background="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#252525:#FFFFFF'}"
                BorderBrush="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#40FFFFFF:#20000000'}"
                BorderThickness="1"
                BoxShadow="0 2 10 0 #30000000"
                CornerRadius="8">

                <Grid RowDefinitions="Auto,*">
                    <!-- Title Section -->
                    <TextBlock 
                        Grid.Row="0"
                        Text="Machinery Overview" 
                        FontSize="24" 
                        FontWeight="SemiBold" 
                        Margin="10,0,0,20"
                        Foreground="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#E0E0E0:#333333'}" />
                    
                    <ScrollViewer
                        Grid.Row="1"
                        Margin="0"
                        HorizontalScrollBarVisibility="Auto"
                        VerticalScrollBarVisibility="Auto">
                        <Grid ColumnDefinitions="0.5*,0.5*" Margin="10,0">

                            <!-- Left Column: Machinery info -->
                            <ItemsControl Grid.Column="0" ItemsSource="{Binding Machines}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel Orientation="Vertical" Spacing="25" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>

                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border
                                            Width="380"
                                            Margin="0,0,20,0"
                                            Background="{Binding Path=(views:MachineryPage.IsDarkTheme), ElementName=MachineryPageControl, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#2A2A2A:#F5F5F5'}"
                                            BorderBrush="#D40000"
                                            BorderThickness="0,0,0,3"
                                            BoxShadow="0 4 15 0 #25000000"
                                            Padding="20"
                                            CornerRadius="8">
                                            <Grid RowDefinitions="Auto,Auto,*">
                                                <!-- Header with machine name and icon -->
                                                <Grid Grid.Row="0" ColumnDefinitions="*,Auto" Margin="0,0,0,15">
                                                    <TextBlock
                                                        Grid.Column="0"
                                                        FontSize="20"
                                                        FontWeight="Bold"
                                                        Foreground="#D40000"
                                                        Text="{Binding Name}" />
                                                    
                                                    <PathIcon
                                                        Grid.Column="1"
                                                        Width="24"
                                                        Height="24"
                                                        Data="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"
                                                        Foreground="#D40000" />
                                                </Grid>
                                                
                                                <!-- Separator line -->
                                                <Rectangle 
                                                    Grid.Row="1"
                                                    Height="1" 
                                                    Fill="{Binding Path=(views:MachineryPage.IsDarkTheme), ElementName=MachineryPageControl, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#404040:#DDDDDD'}"
                                                    Margin="0,0,0,15" />
                                                
                                                <!-- Data values with proper formatting -->
                                                <Grid Grid.Row="2" RowDefinitions="Auto,Auto,Auto,Auto,Auto" ColumnDefinitions="Auto,*">
                                                    <!-- Heat -->
                                                    <Border 
                                                        Grid.Row="0" 
                                                        Grid.Column="0"
                                                        Width="32" 
                                                        Height="32" 
                                                        Background="#15D40000" 
                                                        CornerRadius="16"
                                                        Margin="0,0,15,0"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center">
                                                        <PathIcon
                                                            Width="18"
                                                            Height="18"
                                                            Data="M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z"
                                                            Foreground="#D40000" />
                                                    </Border>
                                                    <StackPanel Grid.Row="0" Grid.Column="1" Spacing="2" Margin="0,0,0,12">
                                                        <TextBlock 
                                                            Text="Maximum Heat Output" 
                                                            FontSize="13" 
                                                            Opacity="0.7"
                                                            FontWeight="Normal" />
                                                        <TextBlock 
                                                            Text="{Binding MaxHeat}" 
                                                            FontSize="16" 
                                                            FontWeight="SemiBold" />
                                                    </StackPanel>
                                                    
                                                    <!-- Electricity -->
                                                    <Border 
                                                        Grid.Row="1" 
                                                        Grid.Column="0"
                                                        Width="32" 
                                                        Height="32" 
                                                        Background="#15D40000" 
                                                        CornerRadius="16"
                                                        Margin="0,0,15,0"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center">
                                                        <PathIcon
                                                            Width="18"
                                                            Height="18"
                                                            Data="M11 15H6V9H11V15M7 10V14H10V10H7M18 14H14V13H18V14M18 11H14V10H18V11M15 6H8V7H15V6M3 18A1 1 0 0 1 2 17V7A1 1 0 0 1 3 6H4V3H6V6H17V3H19V6H20A1 1 0 0 1 21 7V17A1 1 0 0 1 20 18H3Z"
                                                            Foreground="#D40000" />
                                                    </Border>
                                                    <StackPanel Grid.Row="1" Grid.Column="1" Spacing="2" Margin="0,0,0,12">
                                                        <TextBlock 
                                                            Text="Maximum Electricity Usage" 
                                                            FontSize="13" 
                                                            Opacity="0.7"
                                                            FontWeight="Normal" />
                                                        <TextBlock 
                                                            Text="{Binding MaxElectricity}" 
                                                            FontSize="16" 
                                                            FontWeight="SemiBold" />
                                                    </StackPanel>
                                                    
                                                    <!-- Production Costs -->
                                                    <Border 
                                                        Grid.Row="2" 
                                                        Grid.Column="0"
                                                        Width="32" 
                                                        Height="32" 
                                                        Background="#15D40000" 
                                                        CornerRadius="16"
                                                        Margin="0,0,15,0"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center">
                                                        <PathIcon
                                                            Width="18"
                                                            Height="18"
                                                            Data="M20,18H4V6H20M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4M11,17H13V16H14A1,1 0 0,0 15,15V12A1,1 0 0,0 14,11H11V10H15V8H13V7H11V8H10A1,1 0 0,0 9,9V12A1,1 0 0,0 10,13H13V14H9V16H11V17Z"
                                                            Foreground="#D40000" />
                                                    </Border>
                                                    <StackPanel Grid.Row="2" Grid.Column="1" Spacing="2" Margin="0,0,0,12">
                                                        <TextBlock 
                                                            Text="Production Costs" 
                                                            FontSize="13" 
                                                            Opacity="0.7"
                                                            FontWeight="Normal" />
                                                        <TextBlock 
                                                            Text="{Binding ProductionCosts}" 
                                                            FontSize="16" 
                                                            FontWeight="SemiBold" />
                                                    </StackPanel>
                                                    
                                                    <!-- CO2 Emissions -->
                                                    <Border 
                                                        Grid.Row="3" 
                                                        Grid.Column="0"
                                                        Width="32" 
                                                        Height="32" 
                                                        Background="#15D40000" 
                                                        CornerRadius="16"
                                                        Margin="0,0,15,0"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center">
                                                        <PathIcon
                                                            Width="18"
                                                            Height="18"
                                                            Data="M4.94,6.35C4.55,5.96 4.55,5.32 4.94,4.93C5.33,4.54 5.96,4.54 6.35,4.93L13.07,10.31L13.42,10.59C14.2,11.37 14.2,12.64 13.42,13.42C12.64,14.2 11.37,14.2 10.59,13.42L10.31,13.07L4.94,6.35M16,2A3,3 0 0,1 19,5C19,6.12 18.5,7.08 17.71,7.71L16.59,8.82C16.95,8.29 17.13,7.67 17.13,7C17.13,5.47 16.03,4.2 14.5,4.05L14.95,3.61C15.57,2.84 16.54,2.36 17.67,2.07L17.9,2H16M12.54,4.13C12.79,4.05 13.05,4 13.31,4C14.97,4 16.32,5.35 16.32,7C16.32,7.25 16.28,7.5 16.21,7.73L16.08,8.19L15.95,8.07L12.54,4.13M20.71,8.5L20.28,7.77L19.64,8.35L19,9L19.77,9.35L21.13,10.14C21.43,10.29 21.79,10.15 21.94,9.86L22,9.77C22.2,9.28 22.02,8.72 21.55,8.5H20.71Z"
                                                            Foreground="#D40000" />
                                                    </Border>
                                                    <StackPanel Grid.Row="3" Grid.Column="1" Spacing="2" Margin="0,0,0,12">
                                                        <TextBlock 
                                                            Text="COâ‚‚ Emissions" 
                                                            FontSize="13" 
                                                            Opacity="0.7"
                                                            FontWeight="Normal" />
                                                        <TextBlock 
                                                            Text="{Binding CO2Emissions}" 
                                                            FontSize="16" 
                                                            FontWeight="SemiBold" />
                                                    </StackPanel>
                                                    
                                                    <!-- Fuel Consumption -->
                                                    <Border 
                                                        Grid.Row="4" 
                                                        Grid.Column="0"
                                                        Width="32" 
                                                        Height="32" 
                                                        Background="#15D40000" 
                                                        CornerRadius="16"
                                                        Margin="0,0,15,0"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center">
                                                        <PathIcon
                                                            Width="18"
                                                            Height="18"
                                                            Data="M18,10A1,1 0 0,1 17,9A1,1 0 0,1 18,8A1,1 0 0,1 19,9A1,1 0 0,1 18,10M12,10H6V5H12M19.77,7.23L19.78,7.22L16.06,3.5L15,4.56L17.11,6.67C16.17,7 15.5,7.93 15.5,9A2.5,2.5 0 0,0 18,11.5C18.36,11.5 18.69,11.42 19,11.29V18.5A1,1 0 0,1 18,19.5A1,1 0 0,1 17,18.5V14C17,12.89 16.1,12 15,12H14V5C14,3.89 13.1,3 12,3H6C4.89,3 4,3.89 4,5V21H14V13.5H15.5V18.5A2.5,2.5 0 0,0 18,21A2.5,2.5 0 0,0 20.5,18.5V9C20.5,8.31 20.22,7.68 19.77,7.23Z"
                                                            Foreground="#D40000" />
                                                    </Border>
                                                    <StackPanel Grid.Row="4" Grid.Column="1" Spacing="2">
                                                        <TextBlock 
                                                            Text="Fuel Consumption" 
                                                            FontSize="13" 
                                                            Opacity="0.7"
                                                            FontWeight="Normal" />
                                                        <TextBlock 
                                                            Text="{Binding FuelConsumption}" 
                                                            FontSize="16" 
                                                            FontWeight="SemiBold" />
                                                    </StackPanel>
                                                </Grid>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                            <!-- Right Column: Machinery Pictures with Captions -->
                            <StackPanel
                                Grid.Column="1"
                                VerticalAlignment="Top"
                                Spacing="25">
                                
                                <!-- Machine 1 -->
                                <Border
                                    Width="380"
                                    Background="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#2A2A2A:#F5F5F5'}"
                                    BorderBrush="#D40000"
                                    BorderThickness="0,0,0,3"
                                    BoxShadow="0 4 15 0 #25000000"
                                    CornerRadius="8"
                                    ClipToBounds="True">
                                    <Grid RowDefinitions="Auto,Auto">
                                        <!-- Image -->
                                        <Image
                                            Grid.Row="0"
                                            Height="250"
                                            Source="avares://DanfossHeating/Assets/machine1.png"
                                            Stretch="Uniform" />
                                        
                                        <!-- Caption -->
                                        <Border 
                                            Grid.Row="1"
                                            Padding="15,12"
                                            Background="#10000000">
                                            <TextBlock 
                                                Text="Industrial Heat Exchanger - Model HX-5000" 
                                                FontWeight="Medium"
                                                HorizontalAlignment="Center" />
                                        </Border>
                                    </Grid>
                                </Border>
                                
                                <!-- Machine 2 -->
                                <Border
                                    Width="380"
                                    Background="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#2A2A2A:#F5F5F5'}"
                                    BorderBrush="#D40000"
                                    BorderThickness="0,0,0,3"
                                    BoxShadow="0 4 15 0 #25000000"
                                    CornerRadius="8"
                                    ClipToBounds="True">
                                    <Grid RowDefinitions="Auto,Auto">
                                        <!-- Image -->
                                        <Image
                                            Grid.Row="0"
                                            Height="250"
                                            Source="avares://DanfossHeating/Assets/machine2.png"
                                            Stretch="Uniform" />
                                        
                                        <!-- Caption -->
                                        <Border 
                                            Grid.Row="1"
                                            Padding="15,12"
                                            Background="#10000000">
                                            <TextBlock 
                                                Text="Automated Boiler System - Series AB-2000" 
                                                FontWeight="Medium"
                                                HorizontalAlignment="Center" />
                                        </Border>
                                    </Grid>
                                </Border>
                                
                                <!-- Machine 3 -->
                                <Border
                                    Width="380"
                                    Background="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#2A2A2A:#F5F5F5'}"
                                    BorderBrush="#D40000"
                                    BorderThickness="0,0,0,3"
                                    BoxShadow="0 4 15 0 #25000000"
                                    CornerRadius="8"
                                    ClipToBounds="True">
                                    <Grid RowDefinitions="Auto,Auto">
                                        <!-- Image -->
                                        <Image
                                            Grid.Row="0"
                                            Height="250"
                                            Source="avares://DanfossHeating/Assets/machine3.png"
                                            Stretch="Uniform" />
                                        
                                        <!-- Caption -->
                                        <Border 
                                            Grid.Row="1"
                                            Padding="15,12"
                                            Background="#10000000">
                                            <TextBlock 
                                                Text="Industrial Heating Pump - ProHeat 3500" 
                                                FontWeight="Medium"
                                                HorizontalAlignment="Center" />
                                        </Border>
                                    </Grid>
                                </Border>
                                
                                <!-- Machine 4 -->
                                <Border
                                    Width="380"
                                    Background="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#2A2A2A:#F5F5F5'}"
                                    BorderBrush="#D40000"
                                    BorderThickness="0,0,0,3"
                                    BoxShadow="0 4 15 0 #25000000"
                                    CornerRadius="8"
                                    ClipToBounds="True">
                                    <Grid RowDefinitions="Auto,Auto">
                                        <!-- Image -->
                                        <Image
                                            Grid.Row="0"
                                            Height="250"
                                            Source="avares://DanfossHeating/Assets/machine4.png"
                                            Stretch="Uniform" />
                                        
                                        <!-- Caption -->
                                        <Border 
                                            Grid.Row="1"
                                            Padding="15,12"
                                            Background="#10000000">
                                            <TextBlock 
                                                Text="Smart Control Heating System - SC-9000" 
                                                FontWeight="Medium"
                                                HorizontalAlignment="Center" />
                                        </Border>
                                    </Grid>
                                </Border>
                                
                                <!-- Machine 5 -->
                                <Border
                                    Width="380"
                                    Background="{Binding IsDarkTheme, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#2A2A2A:#F5F5F5'}"
                                    BorderBrush="#D40000"
                                    BorderThickness="0,0,0,3"
                                    BoxShadow="0 4 15 0 #25000000"
                                    CornerRadius="8"
                                    ClipToBounds="True">
                                    <Grid RowDefinitions="Auto,Auto">
                                        <!-- Image -->
                                        <Image
                                            Grid.Row="0"
                                            Height="250"
                                            Source="avares://DanfossHeating/Assets/machine5.png"
                                            Stretch="Uniform" />
                                        
                                        <!-- Caption -->
                                        <Border 
                                            Grid.Row="1"
                                            Padding="15,12"
                                            Background="#10000000">
                                            <TextBlock 
                                                Text="Energy Efficient Heat Generator - EE-7200" 
                                                FontWeight="Medium"
                                                HorizontalAlignment="Center" />
                                        </Border>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</UserControl>
